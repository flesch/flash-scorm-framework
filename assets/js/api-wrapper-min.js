!function(){function f(a,b,c){if(a===null)return;if(Array.prototype.forEach&&a.forEach===Array.prototype.forEach)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,e=a.length;d<e;d++)if(d in a&&b.call(c,a[d],d,a)==={})return}else for(var f in a)if(a.hasOwnProperty(f)&&b.call(c,a[f],f,a)==={})return}function g(a,b){var c=b-a,d,e,f;return d=/[0-9]{4}$/.exec("000"+Math.floor(c/36e5)),e=Math.floor(c%36e5/6e4),f=Math.floor(c%36e5%6e4/1e3),[d,e<10?"0"+e:e,f<10?"0"+f:f].join(":")}function h(b){if(a){var c;if(!(b in e)||!e[b])if(c=a.LMSGetValue(b)&&+a.LMSGetLastError()===0)e[b]=c;return e[b]}return null}function i(b,c,d){return a?(c=typeof c!="string"?JSON.stringify(c):c,!d||a.LMSSetValue(b,c)==="true"&&+a.LMSGetLastError()===0?(e[b]=c,e[b]):!1):!1}function j(){return Number(a.LMSGetLastError())||null}function k(b){return a.LMSGetErrorString(String(b))||null}function l(b){return a.LMSGetDiagnostic(String(b))||null}function m(){return a&&a.LMSCommit("")==="true"&&+a.LMSGetLastError()===0?!0:!1}function n(){if(a&&a.LMSInitialize("")==="true"&&/0|101/.test(+a.LMSGetLastError())){f(d,function(b,c,d){var f;if(f=a.LMSGetValue(b)&&+a.LMSGetLastError()===0)e[b]=f}),c=+(new Date),/(pass|complet)ed?/.test(h("cmi.core.lesson_status"))||i("cmi.core.lesson_status","incomplete"),b.parent.frames.SCODataFrame&&b.mode==="test"&&(b.parent.frames.SCODataFrame._displaySuccess=b.parent.frames.SCODataFrame.displaySuccess,b.parent.frames.SCODataFrame.displaySuccess=function(){});var g=window.setInterval(function(){try{a.LMSSetValue("cmi.core.lesson_location",a.LMSGetValue("cmi.core.lesson_location"))}catch(b){}m()||(window.clearInterval(g),window.onLMSConnectionError&&window.onLMSConnectionError())},3e5);return!0}return!1}function o(){if(a){d["cmi.core.session_time"]=g(c,+(new Date)),f(d,function(a,b,c){e[a]&&!/cmi\.core\.student_(id|name)/.test(a)&&i(a,e[a],!0)});if(m()&&a.LMSFinish("")==="true")return b.parent.frames.SCODataFrame&&(b.mode==="test"&&"_displaySuccess"in b.parent.frames.SCODataFrame&&b.parent.frames.SCODataFrame._displaySuccess.call(b),b.parent.frames.SCODataFrame.cleanup=function(){},b.location.href=b.location.href),!0}return!1}var a,b,c,d,e=[];d=["cmi.core.student_id","cmi.core.student_name","cmi.core.lesson_location","cmi.core.lesson_status","cmi.core.score.raw","cmi.suspend_data"],a=function(a){var c=arguments.callee;b=a||window;if(!b.API){if(b!==b.parent)return c.call(this,b.parent);if(b.opener!==null&&typeof b.opener!="undefined"&&!b.opener.closed)return c.call(this,b.opener)}return b.API}.call(this),window.getAPI=function(){return a},window.LMSInitialize=n,window.LMSCommit=m,window.LMSFinish=o,window.LMSGetValue=h,window.LMSSetValue=i,window.LMSGetLastError=j,window.LMSGetErrorString=k,window.LMSGetDiagnostic=l}.call(this)
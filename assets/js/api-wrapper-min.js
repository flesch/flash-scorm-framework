!function(){function l(a,b,c){if(a===null)return;if(j&&a.forEach===j)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,e=a.length;d<e;d++)if(d in a&&b.call(c,a[d],d,a)===g)return}else for(var f in a)if(a.hasOwnProperty(f)&&b.call(c,a[f],f,a)===g)return}function m(a,b,c){var d=!0;return a===null?d:k&&a.every===k?a.every(b,c):(l(a,function(a,e,f){if(!(d=d&&b.call(c,a,e,f)))return g}),d)}function n(a,b){var c=a.length;while(c--)if(a[c]===b)return!0;return!1}function o(a,b){var c=b-a,d,e,f;return d=/[0-9]{4}$/.exec("000"+Math.floor(c/36e5)),e=Math.floor(c%36e5/6e4),f=Math.floor(c%36e5%6e4/1e3),[d,e<10?"0"+e:e,f<10?"0"+f:f].join(":")}function p(b){var c;return e[b]?e[b]:a&&(c=a.LMSGetValue(b))&&+a.LMSGetLastError()===0?(e[b]=c,e[b]):null}function q(a,b){return e[a]=typeof b!="string"?JSON.stringify(b):b,n(f,a)||f.push(a),e[a]}function r(){return Number(a.LMSGetLastError())||null}function s(b){return a.LMSGetErrorString(String(b))||null}function t(b){return a.LMSGetDiagnostic(String(b))||null}function u(){var b=!1;if(a){b=m(f,function(b,c,d){return a.LMSSetValue(b,e[b])==="true"&&+a.LMSGetLastError()===0?!0:!1});if(b&&(f=[])&&a.LMSCommit("")==="true"&&+a.LMSGetLastError()===0)return b}return b}function v(){return a&&a.LMSInitialize("")==="true"&&/0|101/.test(+a.LMSGetLastError())?(d=+(new Date),/(pass|complet)ed?/.test(p("cmi.core.lesson_status"))||q("cmi.core.lesson_status","incomplete"),c&&b.mode==="test"&&"displaySuccess"in c&&(c._displaySuccess=c.displaySuccess,c.displaySuccess=function(){}),h||(h=window.setInterval(function(){u()||(window.clearInterval(h),window.onLMSConnectionError&&window.onLMSConnectionError())},3e5)),!0):!1}function w(){if(a){q("cmi.core.session_time",o(d,+(new Date)));if(u()&&a.LMSFinish("")==="true")return c&&(b.mode==="test"&&"_displaySuccess"in c&&c._displaySuccess.call(b),c.cleanup=function(){},b.location.href=b.location.href),!0}return!1}var a,b,c,d,e=[],f=[],g={},h,i=Array.prototype,j=i.forEach,k=i.every;a=function(a){var d=arguments.callee;b=a||window;if(!b.API){if(b!==b.parent)return d.call(this,b.parent);if(b.opener!==null&&typeof b.opener!="undefined"&&!b.opener.closed)return d.call(this,b.opener)}return b.parent.frames&&"SCODataFrame"in b.parent.frames&&(c=b.parent.frames.SCODataFrame),b.API}.call(this),window.getAPI=function(){return a},window.LMSInitialize=v,window.LMSCommit=u,window.LMSFinish=w,window.LMSGetValue=p,window.LMSSetValue=q,window.LMSGetLastError=r,window.LMSGetErrorString=s,window.LMSGetDiagnostic=t}.call(this)
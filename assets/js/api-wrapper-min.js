var _apiReference,_apiContainer,sessionStartTime,onLMSConnectionError;function getAPI(b,a){try{if(!_apiReference){var c=b||window;if(!c.API)if(c!==c.top)return getAPI(c.top,a);else if(c.opener!==null&&typeof c.opener!=="undefined"&&!c.opener.closed)return getAPI(c.opener,a);_apiReference=c.API;_apiContainer=c}return a?_apiContainer:_apiReference}catch(d){}return null}
function LMSInitialize(){try{var b=getAPI();if(b&&b.LMSInitialize("")==="true"&&/0|101/.test(b.LMSGetLastError())){sessionStartTime=Number(new Date);/(pass|complet)ed?/.test(LMSGetValue("cmi.core.lesson_status"))||LMSSetValue("cmi.core.lesson_status","incomplete");var a=getAPI(window,true);if(a&&a.parent.frames.SCODataFrame&&a.mode==="test")a.parent.frames.SCODataFrame.displaySuccess=function(){};var c=window.setInterval(function(){LMSSetValue("cmi.core.lesson_location",LMSGetValue("cmi.core.lesson_location"));
LMSCommit()||(window.clearInterval(c),onLMSConnectionError&&onLMSConnectionError())},12E5);return true}}catch(d){}return false}function LMSCommit(){try{var b=getAPI();if(b&&b&&b.LMSCommit("")==="true"&&Number(b.LMSGetLastError())===0)return true}catch(a){}return false}
function LMSFinish(){try{var b=getAPI();if(b&&LMSSetValue("cmi.core.session_time",toCMIDurationString(Number(new Date)-sessionStartTime))&&LMSCommit()&&b.LMSFinish("")==="true"){var a=getAPI(window,true);if(a&&a.parent.frames.SCODataFrame)a.mode==="test"&&a.alert("The Lesson was tested successfully."),a.parent.frames.SCODataFrame.cleanup=function(){},a.location.href=a.location.href;return true}}catch(c){alert(c.description)}return false}
function LMSGetValue(b){try{var a=getAPI();if(a){var c=a.LMSGetValue(b);if(c&&Number(a.LMSGetLastError())===0)return c}return null}catch(d){return false}}function LMSSetValue(b,a){try{var c=getAPI();return c&&c.LMSSetValue(b,a)&&Number(c.LMSGetLastError())===0&&(/cmi.core.session_time/.test(b)||LMSGetValue(b)===a&&Number(c.LMSGetLastError())===0)?a:null}catch(d){return false}}function LMSGetLastError(){try{var b=getAPI();return Number(b.LMSGetLastError())||null}catch(a){return false}}
function LMSGetErrorString(b){try{return getAPI().LMSGetErrorString(String(b))||null}catch(a){return false}}function LMSGetDiagnostic(b){try{return getAPI().LMSGetDiagnostic(String(b))||null}catch(a){return false}}function toCMIDurationString(b){var a,c;a=/[0-9]{4}$/.exec("000"+Math.floor(b/36E5));c=b%36E5;b=/[0-9]{2}$/.exec("0"+Math.floor(c/6E4));c%=6E4;c=/[0-9]{2}$/.exec("0"+Math.floor(c/1E3));return[a>9999?9999:a,b,c].join(":")+".00"};